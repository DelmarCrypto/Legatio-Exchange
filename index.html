<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="description" content="Investissez dans l’immobilier tokenisé et les RWA dès 100$ avec Legatio Finance. Rendements passifs via NFTs et staking en 2025.">
    <meta name="keywords" content="immobilier tokenisé, RWA, NFTs immobiliers, staking LEG, prêts crypto, blockchain, Legatio Finance, finance décentralisée">
    <meta name="author" content="Legatio Finance Team">
    <meta property="og:title" content="Legatio Finance - Immobilier Tokenisé dès 100$">
    <meta property="og:description" content="Investissez dans l’immobilier tokenisé avec des rendements passifs via NFTs et staking sur Legatio Finance.">
    <meta property="og:image" content="https://delmarcrypto.github.io/legatio.finance/images/og-image.jpg">
    <meta property="og:url" content="https://delmarcrypto.github.io/legatio.finance/">
    <meta property="og:type" content="website">
    <title>Legatio Finance - Immobilier Tokenisé & RWA dès 100$</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="main.css">
    <style>
        :root {
            --primary: #FF007A;
            --background: #000000;
            --text: #FFFFFF;
            --button-bg: #1A1A1A;
            --button-text: #FF007A;
            --hover-dark: #FF4DA6;
            --accent-pink: #FF66B2;
            --glow: 0 0 10px #FF007A, 0 0 20px #FF007A, 0 0 30px #FF66B2;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background: url('https://www.transparenttextures.com/patterns/stardust.png') repeat, linear-gradient(135deg, #000000 0%, #1A1A1A 100%);
            color: var(--text);
            position: relative;
            overflow-x: hidden;
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 0, 122, 0.2) 0%, transparent 70%);
            opacity: 0.3;
            z-index: -1;
        }

        .navbar {
            background: rgba(0, 0, 0, 0.8);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .navbar .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .navbar ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .navbar a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .navbar a:hover,
        .navbar a:focus {
            color: var(--primary);
            outline: none;
        }

        .navbar .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-shadow: var(--glow);
        }

        .header {
            padding: 4rem 1rem;
            text-align: center;
        }

        .header-content h1 {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
            text-shadow: var(--glow);
            animation: glow 2s infinite;
        }

        @keyframes glow {
            0% { text-shadow: var(--glow); }
            50% { text-shadow: 0 0 5px #FF007A, 0 0 10px #FF66B2; }
            100% { text-shadow: var(--glow); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .section {
            padding: 2rem 0;
        }

        .section h2 {
            text-shadow: var(--glow);
            animation: glow 2s infinite;
            margin-bottom: 1.5rem;
        }

        .cta-button {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: var(--button-bg);
            color: var(--button-text);
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .cta-button:hover,
        .cta-button:focus {
            background: var(--hover-dark);
            transform: scale(1.05);
            box-shadow: var(--glow);
            outline: none;
        }

        .token-benefits-list,
        .testimonials-container,
        .roadmap-timeline,
        .team-container,
        .token-sale-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .token-benefit,
        .testimonial,
        .roadmap-item,
        .team-member,
        .token-sale-item {
            background: #1A1A1A;
            padding: 1.5rem;
            border-radius: 12px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .token-benefit:hover,
        .testimonial:hover,
        .roadmap-item:hover,
        .team-member:hover,
        .token-sale-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(255, 0, 122, 0.3);
        }

        .simulator-form {
            background: #1A1A1A;
            padding: 1.5rem;
            border-radius: 12px;
            max-width: 500px;
            margin: 1rem auto;
        }

        .simulator-form input,
        .simulator-form select {
            width: 100%;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: #2A2A2A;
            color: var(--text);
        }

        .footer {
            background: rgba(0, 0, 0, 0.8);
            padding: 1.5rem;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .social-links a {
            color: var(--text);
            margin: 0 0.5rem;
            font-size: 1.5rem;
            transition: color 0.3s;
        }

        .social-links a:hover,
        .social-links a:focus {
            color: var(--primary);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
        }

        .modal-content {
            background: #1A1A1A;
            margin: 15% auto;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .navbar ul {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }

            .header-content h1 {
                font-size: 2rem;
            }

            .token-benefits-list,
            .testimonials-container,
            .roadmap-timeline,
            .team-container,
            .token-sale-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="navbar">
        <nav class="container" role="navigation" aria-label="Menu principal">
            <div class="logo">Legatio Finance</div>
            <ul>
                <li><a href="#start">Accueil</a></li>
                <li><a href="#how-to-invest">Solutions</a></li>
                <li><a href="#investors">Investisseurs</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#team">Équipe</a></li>
                <li><button id="theme-toggle" aria-label="Basculer le thème"><i class="fas fa-sun"></i></button></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="header" id="start">
            <div class="header-content">
                <h1>Legatio Finance</h1>
                <p class="catchphrase">Finance décentralisée pour les actifs réels</p>
                <a href="#start" class="cta-button" aria-label="Découvrir les offres">Découvrir Maintenant</a>
            </div>
        </section>

        <div class="container">
            <section class="section start-section">
                <h2>Bienvenue chez Legatio Finance</h2>
                <p>Découvrez une plateforme innovante pour investir dans l’immobilier tokenisé avec sécurité et simplicité grâce à la blockchain.</p>
                <a href="#simulateur-rwa" class="cta-button simulator-cta" aria-label="Essayer le simulateur">Essayer le Simulateur</a>
            </section>

            <section class="section token-benefits">
                <h2>Pourquoi $LEG ?</h2>
                <div class="token-benefits-list">
                    <article class="token-benefit">
                        <i class="fas fa-coins"></i>
                        <h3>Staking</h3>
                        <p>Générez des rendements passifs jusqu’à 7% par an.</p>
                    </article>
                    <article class="token-benefit">
                        <i class="fas fa-vote-yea"></i>
                        <h3>Gouvernance</h3>
                        <p>Participez à la gestion décentralisée de Legatio.</p>
                    </article>
                    <article class="token-benefit">
                        <i class="fas fa-hand-holding-usd"></i>
                        <h3>Prêts</h3>
                        <p>Accédez à des prêts sécurisés avec vos actifs.</p>
                    </article>
                </div>
            </section>

            <!-- Autres sections similaires conservées mais simplifiées -->
            <section class="section" id="simulateur-rwa">
                <h2>Simulateur de Prêt RWA</h2>
                <p>Calculez votre prêt en fonction de vos actifs tokenisés.</p>
                <form class="simulator-form">
                    <button type="button" id="connect-metamask" class="cta-button">Connecter MetaMask <span id="loading-spinner" class="hidden">⏳</span></button>
                    <p id="wallet-address" class="hidden">Adresse connectée : Aucune</p>
                    <p id="error-message" class="hidden" style="color: #e74c3c;"></p>
                    <label for="collateral-type">Type de Collatéral :</label>
                    <select id="collateral-type" aria-label="Type de collatéral">
                        <option value="bitcoin">Bitcoin</option>
                        <option value="pax-gold">Or (PAXG)</option>
                        <option value="silver-token-xagx">Argent (XAGX)</option>
                        <option value="immobilier">Immobilier</option>
                    </select>
                    <label for="collateral-amount">Valeur du Collatéral (unités) :</label>
                    <input type="number" id="collateral-amount" placeholder="Ex: 2 BTC" aria-label="Montant du collatéral" required min="0" step="0.01">
                    <p>Prix actuel : <span id="collateral-price">$0</span></p>
                    <label for="loan-duration">Durée du Prêt (mois) :</label>
                    <input type="number" id="loan-duration" placeholder="Ex: 12" aria-label="Durée du prêt" required min="1">
                    <label for="interest-rate">Taux d’Intérêt Annuel (%) :</label>
                    <input type="number" id="interest-rate" placeholder="Ex: 5" aria-label="Taux d’intérêt" required min="0" step="0.1">
                    <p>Ratio LTV : <span id="ltv-value">0%</span></p>
                    <button type="button" onclick="calculateLoan()" class="cta-button">Calculer</button>
                    <div id="loan-results" role="region" aria-live="polite"></div>
                    <button type="button" onclick="requestLoan()" class="cta-button hidden" id="loan-request-btn">Demander un prêt</button>
                </form>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="social-links">
                <a href="https://x.com/rdb_legend" target="_blank" rel="noopener noreferrer" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="https://discord.com/channels/1347668715357077577/1347668716120182888" target="_blank" rel="noopener noreferrer" aria-label="Discord"><i class="fab fa-discord"></i></a>
            </div>
            <p>Contact : <a href="mailto:legatio.finance@gmail.com">legatio.finance@gmail.com</a> | © 2025 Legatio Finance</p>
            <a href="#" class="back-to-top" aria-label="Retour en haut">↑</a>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js" defer></script>
    <script>
        // Configuration du contrat (à remplacer par vos vraies données)
        const contractAddress = "0x1234abcd..."; // Remplacez par l'adresse réelle
        const contractABI = [ /* ABI inchangé */ ];

        let provider, signer, contract, userAddress;
        let livePrices = { bitcoin: 0, 'pax-gold': 0, 'silver-token-xagx': 0, immobilier: 1000 };

        // Récupération des prix en direct
        async function fetchLivePrices() {
            try {
                const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,pax-gold,silver-token-xagx&vs_currencies=usd');
                if (!res.ok) throw new Error('Erreur API');
                const data = await res.json();
                livePrices.bitcoin = data.bitcoin?.usd || 0;
                livePrices['pax-gold'] = data['pax-gold']?.usd || 0;
                livePrices['silver-token-xagx'] = data['silver-token-xagx']?.usd || 0;
                updatePriceDisplay();
            } catch (e) {
                console.error('Erreur fetchLivePrices:', e);
            }
        }

        function updatePriceDisplay() {
            const type = document.getElementById('collateral-type').value;
            document.getElementById('collateral-price').textContent = `$${livePrices[type].toLocaleString('fr-FR')}`;
        }

        // Calcul du prêt
        function calculateLoan() {
            const type = document.getElementById('collateral-type').value;
            const amount = parseFloat(document.getElementById('collateral-amount').value) || 0;
            const duration = parseFloat(document.getElementById('loan-duration').value) || 0;
            const rate = parseFloat(document.getElementById('interest-rate').value) || 0;

            if (!amount || !duration || !rate) {
                document.getElementById('loan-results').innerHTML = '<p style="color: red;">Veuillez remplir tous les champs.</p>';
                return;
            }

            const value = amount * livePrices[type];
            const ltv = 0.7;
            const loan = value * ltv;
            const monthlyRate = rate / 100 / 12;
            const payment = (loan * monthlyRate) / (1 - Math.pow(1 + monthlyRate, -duration));
            const total = payment * duration;
            const interest = total - loan;

            document.getElementById('ltv-value').textContent = `${(ltv * 100)}%`;
            document.getElementById('loan-results').innerHTML = `
                <p><strong>Montant du prêt :</strong> $${loan.toLocaleString('fr-FR')}</p>
                <p><strong>Mensuel :</strong> $${payment.toLocaleString('fr-FR')}</p>
                <p><strong>Intérêts :</strong> $${interest.toLocaleString('fr-FR')}</p>
                <p><strong>Total :</strong> $${total.toLocaleString('fr-FR')}</p>
            `;
            document.getElementById('loan-request-btn').classList.remove('hidden');
        }

        // Connexion MetaMask
        async function connectMetaMask() {
            if (!window.ethereum) {
                document.getElementById('error-message').textContent = 'MetaMask est requis.';
                return;
            }

            try {
                document.getElementById('loading-spinner').classList.remove('hidden');
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                userAddress = accounts[0];
                document.getElementById('wallet-address').classList.remove('hidden');
                document.getElementById('wallet-address').textContent = `Adresse: ${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`;

                provider = new ethers.providers.Web3Provider(window.ethereum);
                signer = provider.getSigner();
                contract = new ethers.Contract(contractAddress, contractABI, signer);

                if (await window.ethereum.request({ method: 'eth_chainId' }) !== '0xa4b1') {
                    await window.ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0xa4b1' }] });
                }

                const isKYC = await contract.utilisateursKYC(userAddress);
                if (!isKYC) {
                    document.getElementById('error-message').textContent = 'KYC requis.';
                } else {
                    document.getElementById('connect-metamask').textContent = 'Connecté';
                    document.getElementById('error-message').textContent = '';
                }
            } catch (e) {
                document.getElementById('error-message').textContent = e.message || 'Erreur de connexion.';
            } finally {
                document.getElementById('loading-spinner').classList.add('hidden');
            }
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            fetchLivePrices();
            setInterval(fetchLivePrices, 60000); // Mise à jour toutes les 60 secondes

            document.getElementById('connect-metamask').addEventListener('click', connectMetaMask);
            document.getElementById('collateral-type').addEventListener('change', updatePriceDisplay);

            document.getElementById('theme-toggle').addEventListener('click', () => {
                document.body.classList.toggle('dark-theme');
                const icon = document.querySelector('#theme-toggle i');
                icon.classList.toggle('fa-sun');
                icon.classList.toggle('fa-moon');
            });
        });
    </script>
</body>
</html>
